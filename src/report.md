## Part 1. Установка ОС
Установка Ubuntu 20.04 Server LTS без графического интерфейса.


![Alt text](screenshots/Part1.png)

## Part 2. Создание пользователя

Создание пользователя:

![linux](screenshots/Part2.1.png)

Новый пользователь из вывода команды:

![linux](screenshots/Part2.2.png)

## Part 3. Настройка сети ОС

1) Задал название машины вида user-1 использовав команды:

    sudo hostname user -1
    
    sudo nano /etc/hosts
    
Отредактировал, перезазагрузил при помощи команды sudo reboot и при слудующем запуске увидел user@user-1 вместо user@uduntu01.

2) Установка временной зоны, соответствующей моему текущему местоположению:

    sudo timedatactl set-timezone Europe/Moscow

После этого показывается уже правильный часовой пояс
 
 ![linux](screenshots/Part3.png)
 
3) Вывод названия сетевых интерфейсов с помощью консольной команды.
 
Установка утилиты  net-tools для работы с сетевым окружением:

    sudo apt install net-tools
    
Вывод названия сетевых интерфейсов:

 ![linux](screenshots/Part3.1.png)

lo (lopback) - обеспечивает связь между компьютерами через специальное ПО без применения дополнительного оборудования. В частности, трафик, отправляемый программой, отображается на интерфейсе. К тому же, для IP тоже используется технология loopback интерфейса

4) Получение ip адреса устройства, от DHCP сервера:

  ![linux](screenshots/Part3.3.png)
  
ip адрес: inet 10.0.2.15

DHCP служит для назначения IP-адреса клиенту. Это следует из его названия — Dynamic Host Configuration Protocol. IP-адрес можно назначать вручную каждому клиенту, то есть компьютеру в локальной сети. Но в больших сетях это очень трудозатратно, к тому же, чем больше локальная сеть, тем выше возрастает вероятность ошибки при настройке. Поэтому для автоматизации назначения IP был создан протокол DHCP.

5) Определение внешнего и внутреннего ip-адрес шлюза:

  ![linux](screenshots/Part3.4.png)

6) Задать статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8):

![linux](screenshots/Part3.6.1.png)

С помощью netplan задаем статичные настройки: addresses - ip-адрес, gateway4 - ip-адрес внутреннего шлюза, nameservers - dns серверa.

7) Перезагрузить виртуальную машину. Убедиться, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте:

![linux](screenshots/Part3.7.1.png)

Вывод пропингованных хостов 1.1.1.1 и  ya.ru

## Part 4 Обновление ОС

![linux](screenshots/Part4.png)

## Part 5. Использование команды sudo

Разрешить пользователю, созданному в Part 2, выполнять команду sudo:
    
    sudo usermod -aG sudo user2
    
Выдача пользователю права sudo:

![linux](screenshots/Part 5.png)

Изменяем hostname OC

sudo позволяет клиенту задать практически любую команду с доступами, разрешениями и привилегиями root.

## Part 6. Установка и настройка службы времени

Вывод текущего времени:

![linux](screenshots/Part 6.png)

Вывод команды синхронизации:

![linux](screenshots/Part 6.1.png)

## Part 7. Установка и использование текстовых редакторов

1) Сохранение изменений в созданных файлах:

Создание файла с помощью VIM:

![linux](screenshots/Part 7.1.png)

Для выхода и сохранения используем wq

Создание файла с помощью NANO:

![linux](screenshots/Part 7.2.png)

Для выхода и сохранения используем control + x, y, enter

Создание файла с помощью JOE:

![linux](screenshots/Part 7.3.png)

Для выхода и сохранения используем Ctrl + K, X

2) Выход из файла без сохранения изменений:

Для выхода без сохранения в VIM используем команду q!:

![linux](screenshots/Part 7.4.png)

Для выхода без сохранения в VIM используем команды control + x, n, enter:

![linux](screenshots/Part 7.5.png)

Для выхода без сохранения в JOE используем команду Control+C

![linux](screenshots/Part 7.7.png)

3) Поиск и замена слова в текстовых редакторах:

VIM:

Поиск шаблона с помощью команды /{patter}

![linux](screenshots/Part 7.8.1.png)

Поиск и замена шаблона во всем файле /%s/{patter}/{string}/g

![linux](screenshots/Part 7.8.2.png)

NANO: 

Поиск шаблона с помощью команды OPTION+R

![linux](screenshots/Part 7.9.1.png)

Вводим, что ищем, затем на что меняем. Клавишей Y мы подтверждаем одну замену, а клавишей A — заменить все.

![linux](screenshots/Part 7.9.2.png)

JOE:

Поиск шаблона с помощью команды CTRL + K +F

![linux](screenshots/Part 7.10.1.png)

Нажимаем  R для замены и  Y для подтверждения

![linux](screenshots/Part 7.10.2.png)


## Part 8. Установка и базовая настройка сервиса SSHD

1) Установил службу SSHd через команду install openssh-server:

2) Добавил службу в автостарт через команду systemctl

3) Перенастроил службу SSHd на порт 2022 через NANO с изменением файла

![linux](screenshots/Part 8.2.png)

4) Используя команду ps, показал наличие процесса sshd.

![linux](screenshots/Part 8.1.png)

флаг -F выводит максимально доступные данные процессов

флаг -С выбирает процессы по имени команды


UID - пользователь, от имени которого запущен процесс

PID - индентификатор процесса

PPID - индентификатор родительского процесса

C - процент времени CPU, используемое процессом

SZ - размера процесса в памяти

RSS - реальный размер процесса в памяти

PSR - ядро процессора, на котором выполняется процесс

STIME - время запуска процесса

TTY - терминал, из которого запущен процесс

TIME - общее время процессора, затраченного на выполнение процесса

CMD - команда запуска процесса

5) Перезагрузил систему: 

![linux](screenshots/Part 8.3.png)

![linux](screenshots/Part 8.4.png)

Вывод команды netstat -tan по флагам:

-t - подключение по протоколу TCP

-a - показывает все подключения

-n - показывает сетевые адреса как числа

Вывод:

Proto - протокол используемый сокетом

Recv-Q - количество байтов не переданных пользователем

Send-Q - количество байтов не подтвержденных удаленным хостом

Local Address - локальный адрес и номер порта локальной сети

Foreign Address - локальный адрес и номер порта удаленной сети

State - состояние сокета

0.0.0.0 обозначает, что никто не подключен к сети.

## Part 9. Установка и использование утилит top, htop

Установить и запустить утилиты top и htop:

![linux](screenshots/Part 9.1.png)

Первая линия:

uptime - локальное время и время прошедшее с последней перезагрузки

количество авторизованных пользователей - 1 user

общая загрузка системы - за последние 1 мин, 5 мин, 15 мин

Вторая линия:

общее количество процессов, далее их классификация

Третья линия:

загрузка cpu, распределенная в процентном соотношении по категориям

Четвертая и пятая линии:

загрузка памяти - первое определение показывает физическую память; второе - виртуальную память

pid процесса, занимающего больше всего процессорного времени:

![linux](screenshots/Part 9.2.png)

pid процесса занимающего больше всего памяти:

![linux](screenshots/Part 9.2.1.png)

Сортировка по PID, PERCENT_CPU, PERCENT_MEM, TIME:

![linux](screenshots/Part 9.3.png)

![linux](screenshots/Part 9.4.png)

![linux](screenshots/Part 9.5.png)

![linux](screenshots/Part 9.6.png)

Для процесса sshd:

![linux](screenshots/Part 9.7.png)

Для syslog:

![linux](screenshots/Part 9.8.png)

с добавленным выводом hostname, clock и uptime:

![linux](screenshots/Part 9.9.png)

## Part 10. Использование утилиты fdisk

Запустить команду fdisk -l:

![linux](screenshots/Part 10.png)

Название: /dev/sda

Размер: 10 GiB

Кол-во секторов: 20971520

Размер swap: 0

## Part 11. Использование утилиты df

![linux](screenshots/Part 11.1.png)

Размер раздела:

8408452 кб
Размер занятого пространства:

4256176 кб

Размер свободного пространства:

3703560 кб

Процент использования:

54%

![linux](screenshots/Part 11.2.png)

Тип файловой системы: ext4

Размер раздела:

8.1 гб

Размер занятого пространства:

4.1 гб

Размер свободного пространства:

3.6 гб

Процент использования:

54%

## Part 12. Использование утилиты du

Запустить команду du:

![linux](screenshots/Part 12.1.png)

Вывод размера папок:

![linux](screenshots/Part 12.2.png)

-s флаг выводит общий размер

-h флаг выводит размер в удобном для человеческого глаза вида

## Part 13. Установка и использование утилиты ncdu

![linux](screenshots/Part 13.1.png)

![linux](screenshots/Part 13.2.png)

## Part 14. Работа с системными журналами

Время последней авторизации:

![linux](screenshots/Part 14.1.png)

Рестарт службы в логах:

![linux](screenshots/Part 14.2.png)

## Part 15. Использование планировщика заданий CRON

Запуск команды UPTIME каждые 2 минуты: 

![linux](screenshots/Part 15.2.png)

Вывод текущих задач для CRON:

![linux](screenshots/Part 15.3.png)

Удаление всех задач:

![linux](screenshots/Part 15.4.png)
